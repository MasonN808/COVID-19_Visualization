<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Independent Farms by County - Choropleth</title>
	<script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
	<script>
		d3v3 = d3
		window.d3 = null
	</script>
	
	<script type="text/javascript" src="https://d3js.org/d3.v7.min.js"></script>
	<script>
		d3v7 = d3
		window.d3 = null
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
	<script>
		d3v5 = d3
		window.d3 = null
	</script>

	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script>
		d3v4 = d3
		window.d3 = null
	</script>
	<!-- For different verison of d3 -->
	<!-- <script src="lib/d3.js"></script> -->
	<!-- For different verison of d3 -->
	<!-- <script src="lib/d31.js"></script>  -->

	<script type="text/javascript" src="https://d3js.org/queue.v1.min.js"></script>
	<script type="text/javascript" src="https://d3js.org/topojson.v1.min.js"></script>
	<script type="text/javascript" src="js/barChart.js"></script>
	<script type="text/javascript" src="js/choropleth.js"></script>


	
	<!-- <script type="text/javascript" src="js/choropleth.js"></script> -->
	<!-- <script src="css/index.css"></script> -->
	<link href="css/index.css" rel="stylesheet" type="text/css" />

	<script>
		window.onload = async function(){
		//   var rawData = d3.csv("data/data.csv"); //inject dataset

		//   const data = transformData(rawData); //mapping out steps to perform
		//   buildTable(data); //build data from raw data
		//   buildScatterPlot(data); //build scatterplot from transformed data
		//   console.log(rawData); //shows what raw data looks like in console
	
		//   const billionairesCounts = countBillionairesPerRegion(rawData)
		//   console.log(billionairesCounts);


		  makeChoropleth();


		//   buildBarchart(rawData); //build scatterplot from transformed data
		//   buildGroupedBars(billionairesCounts)
		// queue()
        // 	.defer(d3.csv, "data/data.csv")
        // 	.await(buildBarchart);


		  makeBarChart();


		//   console.log(1)
		// d3.csv("data/data.csv").get(makeBarChart(data));
		//   const companiesPerYear = newBillionaireCompaniesPerYear(data);
		//   buildLineChart(companiesPerYear);
		}
	  </script>
</head>


<body>
	<h1>A Visualization of the COVID-19 Pandemic</h1>
	<section>
		<h2>Aggregated Choropleth Map of US Counties from 2021-Present</h2>
		<p>Here, we visualize the aggregated number of positive COVID-19 cases from 1/26/2020 to 4/25/2022 with respect to US county population as a quotient.
			Historically, pandemic data was not stored in such easy-to-access open source forms.  With the COVID-19 pandemic,
			lots of data in many forms was stored for the public to visulaize the trajectory of the pandemic.  Here, I present
			an aggregated choropleth map to observe the pandemic across all timeframes. Additionally, observe that as you hover
			over a county, the name of the county and percentage of people who were positive for COVID-19 with respect to the county population is displayed.
			Also observe that some counties had more cases</p>
		<figure id = "choroplethMap"></figure>
		
</section>
<section>
    <h2>Bar Chart of Number of Cases per Hawaii County</h2>
	<p>This chart counts the number of total positive covid cases per 100,000 individuals in each Hawaii county and spans from 1/26/2020 to 4/25/2022</p>
    <figure id = "barChart"></figure>
</section>
<section>
	<h3>Data Sources</h3>
		<ul>
		<li><cite><a href="https://catalog.data.gov/dataset/united-states-covid-19-county-level-of-community-transmission-historical-changes-21498">Centers for Disease Control and Prevention - United States COVID-19 County Level of Community Transmission Historical Changes</a></cite></li>
		</ul>
</section>	
</body>

</html>